(()=>{var e={192:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var a=r(81),n=r.n(a),i=r(645),o=r.n(i)()(n());o.push([e.id,"*{box-sizing:border-box}body{margin:0px;padding:0px;height:100vh;width:100vw;overflow:hidden}#main{display:grid;height:100vh;width:100vw;justify-items:center;align-items:center;grid-template-rows:1fr 10fr 1fr}#header{grid-row:1/ 2}#footer{grid-row:3/ -1}#gameTypeSelector{display:flex}#playerNames{display:flex}#gameContainer{display:grid;height:100%;width:100%;grid-template-columns:1fr 1fr;grid-template-rows:10fr 1fr;gap:20px;padding:20px}#gameContainer #player1Contaier{grid-row:1/2;grid-column:1/2}#gameContainer #player2Contaier{grid-row:1/2;grid-column:2/3}#gameContainer .playerContainer{height:100%;width:100%;display:grid;gap:20px}#gameContainer .playerContainer .dock{border:3px solid black;border-radius:15px;overflow:hidden;display:grid}#gameContainer .playerContainer .playerBoard{display:grid;grid-template-columns:repeat(10, 1fr);grid-template-rows:repeat(10, 1fr);border:2px solid black;border-radius:15px;overflow:hidden}#gameContainer .playerContainer .playerBoard .square{border:1px solid black}#gameContainer .playerContainer .playerBoard .water{background-color:aqua}#gameContainer .playerContainer .playerBoard .hitShip{background-color:black}#gameContainer .playerContainer .playerBoard .hitWater{background-color:aquamarine}#gameContainer .playerContainer .playerBoard .hidden{background-color:green}#gameContainer .playerContainer .playerBoard .hiddenHitWater{background-color:aquamarine}#gameContainer .playerContainer .playerBoard .hiddenHitBoat{background-color:black}#gameContainer #player1Container{grid-template-columns:1fr 5fr}#gameContainer #player2Container{grid-template-columns:5fr 1fr}#gameContainer #player2Container .playerBoard{grid-column:1/2;grid-row:1/2}#gameContainer #player2Container .dock{grid-column:2/3;grid-row:1/2}#gameContainer #rotateShipButton{grid-row:2/3;grid-column:1/3}\n",""]);const l=o},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",a=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),a&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),a&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,a,n,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(a)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(o[s]=!0)}for(var d=0;d<e.length;d++){var p=[].concat(e[d]);a&&o[p[0]]||(void 0!==i&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=i),r&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=r):p[2]=r),n&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=n):p[4]="".concat(n)),t.push(p))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},379:e=>{"use strict";var t=[];function r(e){for(var r=-1,a=0;a<t.length;a++)if(t[a].identifier===e){r=a;break}return r}function a(e,a){for(var i={},o=[],l=0;l<e.length;l++){var s=e[l],d=a.base?s[0]+a.base:s[0],p=i[d]||0,h="".concat(d," ").concat(p);i[d]=p+1;var c=r(h),u={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==c)t[c].references++,t[c].updater(u);else{var y=n(u,a);a.byIndex=l,t.splice(l,0,{identifier:h,updater:y,references:1})}o.push(h)}return o}function n(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,n){var i=a(e=e||[],n=n||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var l=r(i[o]);t[l].references--}for(var s=a(e,n),d=0;d<i.length;d++){var p=r(i[d]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}i=s}}},569:e=>{"use strict";var t={};e.exports=function(e,r){var a=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(r)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var a="";r.supports&&(a+="@supports (".concat(r.supports,") {")),r.media&&(a+="@media ".concat(r.media," {"));var n=void 0!==r.layer;n&&(a+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),a+=r.css,n&&(a+="}"),r.media&&(a+="}"),r.supports&&(a+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},101:(e,t,r)=>{r(497),e.exports=class{#e;#t;#r;#a;#n;#i;constructor(e,t,r){this.#e=(()=>{let t=[];for(let r=0;r<e;r++){let r=[];for(let t=0;t<e;t++)r.push(0);t.push(r)}return t})(),this.#t=[],this.#r=t,this.#a=r,this.#n=(()=>{let t=[];for(let r=e-1;r<e;r++){let a=r;for(let r=Math.floor(e/2);r<Math.floor(e/2);r++){let e=r;!1&a&&t.push({x:a,y:2*e}),t.push({x:a,y:2*e+1})}}return t})(),this.#i=[]}placeShips(){let e=["x","y"];for(let t=0;t<this.#r.board.boats.length;t++)for(;0==this.#r.board.boats[t].placed;){let r=Math.floor(Math.random()*this.#e.length),a=Math.floor(Math.random()*this.#e.length),n=Math.floor(2*Math.random());this.#r.board.placeShip(t,{x:r,y:a},e[n])}}newAttackVector(){let e=Math.floor(Math.random()*this.#e.length),t=Math.floor(Math.random()*this.#e.length),r={x:0,y:0};return 0!=this.#i.length?(r=this.#i[0],this.#i.shift(),r):0!=this.#n.length?(r=this.#n[0],this.#n.shift(),r):{x:e,y:t}}play(){let e=this.newAttackVector(),t=()=>{r=!0;for(let t=0;t<this.#t.length;t++)(e.x==this.#t[t].x&&e.y==this.#t[t].y||e.x<0||e.y<0||e.x>=this.#e.length||e.y>=this.#e.length)&&(r=!1);return r};for(;0==t;)console.log(t),e=this.newAttackVector();let r=0;if(console.log("result:",e.x,e.y,"Queue:",this.#n,"Prio;",this.#i),1==this.#a.board.grid[e.x][e.y])if(r=1,this.#t.length>1){if(1==this.#t[this.#t.length-1].result){let t=this.#t[this.#t.length-1].x-e.x,r=this.#t[this.#t.length-1].y-e.y;0==t&&(r<0?this.#i.push({x:e.x,y:e.y-1}):this.#i.push({x:e.x,y:e.y+1})),0==r&&(t<0?this.#i.push({x:e.x-1,y:e.y}):this.#i.push({x:e.x+1,y:e.y}))}}else switch(this.#i.length){case 0:this.#i.push({x:e.x+1,y:e.y},{x:e.x-1,y:e.y},{x:e.x,y:e.y+1},{x:e.x,y:e.y-1});break;case 1:this.#i.push({x:e.x,y:e.y+1});break;case 2:this.#i.push({x:e.x-1,y:e.y});break;case 3:this.#i.push({x:e.x+1,y:e.y});break;default:if(!(this.#i.length>4))break;1==this.#i[this.#i.length-4][e.x][e.y]&&this.#i.push({x:e.x,y:e.y-1})}return this.#t.push({x:e.x,y:e.y,result:r}),console.log("result:",e.x,e.y,"Queue:",this.#n,"Prio;",this.#i,"last moves",this.#t),e}}},427:(e,t,r)=>{let a=r(497);e.exports=class{#e;#o;#l;constructor(e,t){e<1||!Array.isArray(t)||(this.#e=(()=>{let t=[];for(let r=0;r<e;r++){let r=[];for(let t=0;t<e;t++)r.push(0);t.push(r)}return t})(),this.#o=(()=>{let e=[];return t.forEach(((t,r)=>{e.push({ship:new a(t),placed:!1})})),e})(),this.#l=[])}get grid(){return this.#e}get boats(){return this.#o}get positions(){return this.#l}allShipsPlaced(){let e=!0;return this.#o.forEach((t=>{0==t.placed&&(e=!1)})),e}placeShip(e,t,r){if(0!=this.#o[e].placed)return"Ship already placed";if("y"==r){let r=this.boats[e].ship;if(!(t.y+r.size-1<this.#e.length&&t.x>=0&&t.y>=0&&t.x<this.#e.length&&t.y<this.#e.length))return"boat outside the grid";for(let e=t.y;e<t.y+r.size;e++)if(1==this.#e[t.x][e])return"Can not overlap ships";for(let a=t.y;a<t.y+r.size;a++)this.#e[t.x][a]=1,this.#l.push({cords:{x:t.x,y:a},shipIndex:e,shipAtackVector:a-t.y});this.#o[e].placed=!0}if("x"==r){let r=this.boats[e].ship;if(t.x+r.size-1<10&&t.x>=0&&t.y>=0&&t.x<10&&t.y<10){for(let e=t.x;e<t.x+r.size;e++)if(1==this.#e[e][t.y])return"Can not overlap ships";for(let a=t.x;a<t.x+r.size;a++)this.#e[a][t.y]=1,this.#l.push({cords:{x:a,y:t.y},shipIndex:e,shipAtackVector:a-t.x});this.#o[e].placed=!0}}}recieveAttack(e,t){if(e<0||e>9||t<0||t>9)return"Atack out of range";if(2==this.#e[e][t]||3==this.#e[e][t])return"Attack already made";if(0!=this.#e[e][t])for(let r=0;r<this.#l.length;r++)e==this.#l[r].cords.x&&t==this.#l[r].cords.y&&(this.#e[e][t]=2,this.#o[this.#l[r].shipIndex].ship.shot(this.#l[r].shipAtackVector));else this.#e[e][t]=3}isGameOver(){let e=!0;return this.#o.forEach((t=>{1==t.ship.floats&&(e=!1)})),e}}},404:(e,t,r)=>{let a=r(507);e.exports=class{#s;#d;#p;#h;#c;#u;constructor(e,t,r=""){this.#s=e,this.#d=new a(""==t?"Player 1":t),this.#p=(()=>"ai"==this.type?new a("AI"):new a(""==t?"Player 2":r))(),this.#h=this.#d,this.#c=this.#p,this.#u=null}get type(){return this.#s}get player1(){return this.#d}get player2(){return this.#p}get currentPlayer(){return this.#h}get player1name(){return this.#d.name}get player2name(){return this.#p.name}get winner(){return this.#u}nextPlayer(){this.#h==this.#d?this.#h=this.#p:this.#h=this.#d}turn(e=0,t=0){if(0==this.#d.board.allShipsPlaced()||0==this.#p.board.allShipsPlaced())return"All ships must been placed before an attack";if(null!=this.#u)return"game already finished";let r=this.#c.board.recieveAttack(e,t);if(null!=r)return r;if(1==this.#c.board.isGameOver())return this.#u=`${this.#h.name} WINS`,!0;let a=this.#h;this.#h=this.#c,this.#c=a}}},507:(e,t,r)=>{let a=r(427);const n=r(844);e.exports=class{#y;constructor(e){this.#y=e,this.board=new a(n.size,n.ships)}get name(){return this.#y}}},844:e=>{e.exports={size:10,ships:[5,4,3,3,2]}},497:e=>{e.exports=class{#m;#f;#g;constructor(e){e<1||(this.#m=e,this.#f=(()=>{let t=[];for(let r=0;r<e;r++)t.push(1);return t})(),this.#g=!0)}get size(){return this.#m}get slots(){return this.#f}get floats(){return this.#g}checkfloat(){0==this.slots.reduce(((e,t)=>e+t))&&(this.#g=!1)}shot(e){e<this.#m&&e>=0&&(this.#f[e]=0,this.checkfloat())}}}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={id:a,exports:{}};return e[a](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nc=void 0,(()=>{"use strict";var e=r(844),t=r.n(e),a=r(379),n=r.n(a),i=r(795),o=r.n(i),l=r(569),s=r.n(l),d=r(565),p=r.n(d),h=r(216),c=r.n(h),u=r(589),y=r.n(u),m=r(192),f={};f.styleTagTransform=y(),f.setAttributes=p(),f.insert=s().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=c(),n()(m.Z,f),m.Z&&m.Z.locals&&m.Z.locals;let g,v,x=r(404),C=r(101),b=document.getElementById("main"),M="y";function w(e,t="div"){let r=document.createElement(t);return r.className=e,r}function B(e,t="div"){let r=document.createElement(t);return r.id=e,r}function E(){let e=B("gameTypeSelector","div");e.className="gameTypeSelector";let t=w("typeSelector","button");t.innerText="vs AI",t.addEventListener("click",(()=>{let e=document.getElementById("gameTypeSelector");e.className="gameTypeSelector after",setTimeout((()=>{b.removeChild(e),P("ai")}),300)}));let r=w("typeSelector","button");r.innerText="2 Players",r.addEventListener("click",(()=>{let e=document.getElementById("gameTypeSelector");e.className="gameTypeSelector after",setTimeout((()=>{b.removeChild(e),P("human")}),300)})),e.appendChild(t),e.appendChild(r),b.appendChild(e)}function k(){let e=w("dock");for(let r=0;r<t().ships.length;r++){let a=w(`dockedShip size${t().ships[r]}`);a.id=`ship${r}`,a.draggable="true",a.addEventListener("dragstart",(e=>{let t=JSON.stringify({id:a.id,index:r});e.dataTransfer.setData("text/html",t)})),e.appendChild(a)}return e}function P(e){let r=document.createElement("form");r.id="playerNames",r.method="get",r.action="";let a=document.createElement("label");a.for="player1name",a.innerText="Player 1 Name:";let n=document.createElement("input");n.id="player1name",n.type="text",n.placeholder="Jhon",n.autocomplete="off",n.name="player1name";let i=w("PlayButton","button");if(i.innerText="Play!",i.type="button","ai"==e)return i.addEventListener("click",(()=>{let e=document.getElementById("playerNames");e.className="playerNames after",setTimeout((()=>{b.removeChild(e),g=new x("ai",r.player1name.value),v=new C(t().size,g.player2,g.player1),v.placeShips(),T()}),300)})),r.appendChild(a),r.appendChild(n),r.appendChild(i),void b.appendChild(r);let o=document.createElement("label");o.for="player2name",o.innerText="Player 2 Mame:";let l=document.createElement("input");l.id="player2name",l.type="text",l.placeholder="Eve",l.autocomplete="off",l.name="player2name",i.addEventListener("click",(()=>{let e=document.getElementById("playerNames");e.className="playerNames after",setTimeout((()=>{b.removeChild(e),g=new x("human",r.player1name.value,r.player2name.value),T()}),300)})),r.appendChild(a),r.appendChild(n),r.appendChild(o),r.appendChild(l),r.appendChild(i),b.appendChild(r)}function T(){let e=B("gameContainer"),t=B("player1Container"),r=N(g.player1,"player1Board",!1),a=B("player2Container");a.className="playerContainer",t.className="playerContainer";let n=N(g.player2,"player2Board",!0);r.className="playerBoard",n.className="playerBoard",t.appendChild(k()),t.appendChild(r),"ai"==g.type?a.appendChild(w("dock")):a.appendChild(k()),a.appendChild(n),e.appendChild(t),e.appendChild(a);let i=document.createElement("button");if(i.innerHTML="Rotate Ship",i.id="rotateShipButton",i.addEventListener("click",(()=>{M="x"==M?"y":"x"})),"ai"!=g.type){let t=document.createElement("button");t.innerHTML="Next Turn",t.id="nextTurnButton",t.addEventListener("click",(()=>{1==g.currentPlayer.board.allShipsPlaced()&&(g.currentPlayer==g.player1?(r=N(g.player1,"player1Board",!0),n=N(g.player2,"player2Board",!1),g.nextPlayer()):(r=N(g.player1,"player1Board",!0),n=N(g.player2,"player2Board",!0),g.nextPlayer(),t.parentElement.removeChild(t)))})),e.appendChild(t)}e.appendChild(i),b.appendChild(e)}function S(e,t,r){if(0==g.player1.board.allShipsPlaced()||0==g.player2.board.allShipsPlaced())return;let a=document.getElementById("player1Board"),n=document.getElementById("player2Board");if("ai"!=r){let r=g.turn(e,t);if(null!=r)return void(1==r&&I(g.currentPlayer.name));a=N(g.player1,"player1Board",!0),n=N(g.player2,"player2Board",!0)}else{let r=g.turn(e,t);if(null!=r)return void(1==r&&I(g.player1.name));n=N(g.player2,"player2Board",!0);let i=v.play(),o=g.turn(i.x,i.y);for(;null!=o;)i=v.play(),o=g.turn(i.x,i.y),1==r&&I(g.player1.name);a=N(g.player1,"player1Board",!1)}}function N(e,t,r){let a=document.getElementById(t),n=e.board.grid;null==a?a=B(t):a.innerHTML="";for(let e=0;e<n.length;e++)for(let i=0;i<n[e].length;i++){let o=document.createElement("div");1==r?(n[e][i]<=1?o.className=`square x${e}y${i} hidden`:2==n[e][i]?o.className=`square x${e}y${i} hiddenHitBoat`:3==n[e][i]&&(o.className=`square x${e}y${i} hiddenHitWater`),o.addEventListener("click",(()=>{"player1Board"==t&&g.currentPlayer==g.player2&&S(e,i,g.type),"player2Board"==t&&g.currentPlayer==g.player1&&S(e,i,g.type)}))):0==n[e][i]?(o.className=`square x${e}y${i} water`,o.addEventListener("dragover",(e=>{e.preventDefault()})),o.addEventListener("drop",(t=>{t.preventDefault();let r=JSON.parse(t.dataTransfer.getData("text/html")),a=document.getElementById(r.id);if("string"!=typeof g.currentPlayer.board.placeShip(r.index,{x:e,y:i},M)&&a.parentNode.removeChild(a),g.currentPlayer==g.player1){let e=N(g.player1,"player1Board",!1);e.className="playerBoard",document.getElementById("player1Container").appendChild(e)}else{let e=N(g.player2,"player2Board",!1);e.className="playerBoard",document.getElementById("player2Container").appendChild(e)}}))):1==n[e][i]?o.className=`square x${e}y${i} ship`:2==n[e][i]?o.className=`square x${e}y${i} hitShip `:3==n[e][i]&&(o.className=`square x${e}y${i} hitWater `),a.appendChild(o)}return a}function I(e){let t=document.getElementById("gameContainer");t.parentElement.removeChild(t);let r=B("winnerDiv"),a=B("winner");a.innerText=`${e} wins the game`;let n=document.createElement("button");n.id="restartBtn",n.innerText="Restart Game",n.addEventListener("click",(()=>{let e=document.getElementById("winnerDiv");e.parentElement.removeChild(e),E()})),r.appendChild(a),r.appendChild(n),b.appendChild(r)}!function(){let e=B("header","div"),t=B("headerText","h1");t.innerText="BATTLESHIP",e.appendChild(t),b.appendChild(e)}(),E(),function(){let e=B("footer","div"),t=B("footerText","h3");t.innerText="Made by Haervwe",e.appendChild(t),b.appendChild(e)}()})()})();